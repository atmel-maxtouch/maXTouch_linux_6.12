# SPDX-License-Identifier: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/panel/waveshare,dsi-touchscreen.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Waveshare DSI touchscreens

maintainers:
  - Dave Stevenson <dave.stevenson@raspberrypi.com>
  - eng33 <eng33@waveshare.com>

description: |+
  This DSI panel contains:
  - Waveshare DSI Panel used to drive dsi panels.
  - Touchscreen controller on I2C for touch input and this binding covers the
    DSI display parts but not its touch input.

properties:
  compatible:
    oneOf:
      - items:
          - const: waveshare,7.0inch-c-panel
          - const: waveshare,2.8inch-panel
          - const: waveshare,3.4inch-panel
          - const: waveshare,4.0inch-panel
          - const: waveshare,7.0inch-c-panel
          - const: waveshare,7.9inch-panel
          - const: waveshare,8.0inch-panel
          - const: waveshare,10.1inch-panel
          - const: waveshare,11.9inch-panel
          - const: waveshare,4inch-panel
          - const: waveshare,5.0inch-panel
          - const: waveshare,6.25inch-panel
          - const: waveshare,8.8inch-panel
          - const: waveshare,13.3inch-4lane-panel
          - const: waveshare,13.3inch-2lane-panel
      - enum:
          - waveshare,7.0inch-c-panel

  reg:
    const: 0x45

  port: true

required:
  - compatible
  - reg
  - port

additionalProperties: false

examples:
  - |+
    dsi {
        status = "okay";
        #address-cells = <1>;
        #size-cells = <0>;

        ports {
            #address-cells = <1>;
            #size-cells = <0>;

            port@0 {
                reg = <0>;
                dsi_in: endpoint {
                remote-endpoint = <&xlcdc_out>;
                };
            };

            port@1 {
                reg = <1>;
                dsi_out: endpoint {
                remote-endpoint = <&mipi_in_panel>;
                };
            };
        };
    };

    i2c0 {
        #address-cells = <1>;
        #size-cells = <0>;
        status = "okay";

        waveshare: panel@45 {
            compatible = "waveshare,7.0inch-c-panel";
            reg = <0x45>;

            port {
                mipi_in_panel: endpoint {
                    remote-endpoint = <&dsi_out>;
                };
            };
        };
    };
...
